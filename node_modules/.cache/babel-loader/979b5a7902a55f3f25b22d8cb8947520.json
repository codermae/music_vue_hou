{"remainingRequest":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\maey\\music_vue\\hout\\vue-admin-template\\src\\utils\\request.js","dependencies":[{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\src\\utils\\request.js","mtime":1729067644708},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\babel.config.js","mtime":1728097319034},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CgovLyBjcmVhdGUgYW4gYXhpb3MgaW5zdGFuY2UKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIC8vIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksIC8vIHVybCA9IGJhc2UgdXJsICsgcmVxdWVzdCB1cmwKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgxLycsCiAgLy8gd2l0aENyZWRlbnRpYWxzOiB0cnVlLCAvLyBzZW5kIGNvb2tpZXMgd2hlbiBjcm9zcy1kb21haW4gcmVxdWVzdHMKICB0aW1lb3V0OiA1MDAwIC8vIHJlcXVlc3QgdGltZW91dAp9KTsKCi8vIOivt+axguaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8gY29uc29sZS5sb2coY29uZmlnKQogIC8vIGRvIHNvbWV0aGluZyBiZWZvcmUgcmVxdWVzdCBpcyBzZW50CgogIGlmIChzdG9yZS5nZXR0ZXJzLnRva2VuKSB7CiAgICAvLyBsZXQgZWFjaCByZXF1ZXN0IGNhcnJ5IHRva2Vu6K6p5q+P5Liq6K+35rGC6YO95bim5pyJ5Luk54mMCiAgICAvLyBbJ1gtVG9rZW4nXSBpcyBhIGN1c3RvbSBoZWFkZXJzIGtleSDoh6rlrprkuYnmoIflpLTplK4KICAgIC8vIHBsZWFzZSBtb2RpZnkgaXQgYWNjb3JkaW5nIHRvIHRoZSBhY3R1YWwgc2l0dWF0aW9uCiAgICBjb25maWcuaGVhZGVyc1snWC1Ub2tlbiddID0gZ2V0VG9rZW4oKTsKICB9CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gZG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgovLyByZXNwb25zZSBpbnRlcmNlcHRvcgovLyDlk43lupTmi6bmiKrlmagKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIOWvueWTjeW6lOaVsOaNruWBmuS6m+S7gOS5iAogIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsgLy8gZm9yIGRlYnVnCiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yKSAvLyBmb3IgZGVidWcKICB2YXIgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZTsKICBpZiAocmVzcG9uc2UpIHsKICAgIHN3aXRjaCAocmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgIGNhc2UgNDAxOgogICAgICAgIC8vIOWkhOeQhuacquaOiOadg+eKtuaAgeeggQogICAgICAgIGhhbmRsZTQwMUVycm9yKHJlc3BvbnNlKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsKICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICAgICAgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcKICAgICAgICB9KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA1MDA6CiAgICAgICAgLy8g5aSE55CG5pyN5Yqh5Zmo5YaF6YOo6ZSZ6K+vCiAgICAgICAgaGFuZGxlNTAwRXJyb3IocmVzcG9uc2UpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDQwMzoKICAgICAgICAvLyDlpITnkIbmnYPpmZDkuI3otrMKICAgICAgICBicmVhazsKICAgICAgY2FzZSA0MDQ6CiAgICAgICAgLy8g5aSE55CG6LWE5rqQ5pyq5om+5YiwCiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgLy8g5YW25LuW6ZSZ6K+v5aSE55CGCiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5kYXRhKTsKICAgICAgICBicmVhazsKICAgIH0KICB9IGVsc2UgewogICAgLy8g5aSE55CG572R57uc6ZSZ6K+v5oiW5YW25LuW5oOF5Ya1CiAgICBjb25zb2xlLmVycm9yKCdOZXR3b3JrIEVycm9yOicsIGVycm9yLm1lc3NhZ2UpOwogIH0KICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCfor7fmsYLlpLHotKUnKSk7Cn0pOwpmdW5jdGlvbiBoYW5kbGU0MDFFcnJvcihyZXNwb25zZSkgewogIC8vIOadg+mZkOS4jeWvuQogIC8vIGNvbnNvbGUuZXJyb3IoJ1VuYXV0aG9yaXplZDonLCByZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgJ1VuYXV0aG9yaXplZCcpOwogIC8vIOa4hemZpCB0b2tlbiDlubbot7PovazliLDnmbvlvZXpobXpnaIKICBzdG9yZS5kaXNwYXRjaCgndXNlci9yZXNldFRva2VuJyk7Cn0KZnVuY3Rpb24gaGFuZGxlNTAwRXJyb3IocmVzcG9uc2UpIHsKICAvLyDlpITnkIYgNTAwIOmUmeivr+eahOWFt+S9k+mAu+i+kQogIC8vIGNvbnNvbGUuZXJyb3IoJ1NlcnZlciBFcnJvcjonLCByZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgJ0ludGVybmFsIFNlcnZlciBFcnJvcicpOwogIC8vIOaYvuekuumUmeivr+aPkOekugogIGFsZXJ0KCfnlKjmiLflkI3miJblr4bnoIHplJnor68nKTsKICAvLyDmiJbogIXkvb/nlKjlhajlsYDmj5DnpLrlupPvvIjlpoIgRWxlbWVudCBVSSDnmoQgTWVzc2FnZe+8iQogIC8vIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+acjeWKoeWZqOWGhemDqOmUmeivr++8jOivt+eojeWQjuWGjeivleOAgicpOwp9CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"names":["axios","Message","store","getToken","service","create","baseURL","timeout","interceptors","request","use","config","getters","token","headers","error","console","log","Promise","reject","response","status","handle401Error","resolve","success","message","handle500Error","data","Error","dispatch","alert"],"sources":["D:/maey/music_vue/hout/vue-admin-template/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport { Message } from 'element-ui'\nimport store from '@/store'\nimport { getToken } from '@/utils/auth'\n\n// create an axios instance\nconst service = axios.create({\n  // baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\n  baseURL:'http://localhost:8081/',\n  // withCredentials: true, // send cookies when cross-domain requests\n  timeout: 5000 // request timeout\n})\n\n\n// 请求拦截器\nservice.interceptors.request.use(\n  config => {\n    // console.log(config)\n    // do something before request is sent\n\n    if (store.getters.token) {\n      // let each request carry token让每个请求都带有令牌\n      // ['X-Token'] is a custom headers key 自定义标头键\n      // please modify it according to the actual situation\n      config.headers['X-Token'] = getToken()\n    }\n    return config\n  },\n  error => {\n    // do something with request error\n    console.log(error) // for debug\n    return Promise.reject(error)\n  }\n)\n\n// response interceptor\n// 响应拦截器\nservice.interceptors.response.use(\n  response => {\n    // 对响应数据做些什么\n    console.log(response) // for debug\n    return response;\n  },\n  error => {\n    // console.log('err' + error) // for debug\n    const { response } = error;\n    if (response) {\n      switch (response.status) {\n        case 401:\n          // 处理未授权状态码\n          handle401Error(response);\n          return Promise.resolve({ success: false, message: 'Unauthorized' });\n          break;\n        case 500:\n          // 处理服务器内部错误\n          handle500Error(response);\n          break;\n        case 403:\n          // 处理权限不足\n          break;\n        case 404:\n          // 处理资源未找到\n          break;\n        default:\n          // 其他错误处理\n          console.error('Error:', response.status, response.data);\n          break;\n      }\n    } else {\n      // 处理网络错误或其他情况\n      console.error('Network Error:', error.message);\n    }\n    return Promise.reject(new Error('请求失败'));\n  }\n);\n\nfunction handle401Error(response){\n  // 权限不对\n  // console.error('Unauthorized:', response.data.message || 'Unauthorized');\n  // 清除 token 并跳转到登录页面\n  store.dispatch('user/resetToken')\n}\n\nfunction handle500Error(response) {\n  // 处理 500 错误的具体逻辑\n  // console.error('Server Error:', response.data.message || 'Internal Server Error');\n  // 显示错误提示\n  alert('用户名或密码错误');\n  // 或者使用全局提示库（如 Element UI 的 Message）\n  // this.$message.error('服务器内部错误，请稍后再试。');\n\n}\n\n\nexport default service\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,IAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC3B;EACAC,OAAO,EAAC,wBAAwB;EAChC;EACAC,OAAO,EAAE,IAAI,CAAC;AAChB,CAAC,CAAC;;AAGF;AACAH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9B,UAAAC,MAAM,EAAI;EACR;EACA;;EAEA,IAAIT,KAAK,CAACU,OAAO,CAACC,KAAK,EAAE;IACvB;IACA;IACA;IACAF,MAAM,CAACG,OAAO,CAAC,SAAS,CAAC,GAAGX,QAAQ,CAAC,CAAC;EACxC;EACA,OAAOQ,MAAM;AACf,CAAC,EACD,UAAAI,KAAK,EAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACA;AACAX,OAAO,CAACI,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC/B,UAAAU,QAAQ,EAAI;EACV;EACAJ,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC,EAAC;EACtB,OAAOA,QAAQ;AACjB,CAAC,EACD,UAAAL,KAAK,EAAI;EACP;EACA,IAAQK,QAAQ,GAAKL,KAAK,CAAlBK,QAAQ;EAChB,IAAIA,QAAQ,EAAE;IACZ,QAAQA,QAAQ,CAACC,MAAM;MACrB,KAAK,GAAG;QACN;QACAC,cAAc,CAACF,QAAQ,CAAC;QACxB,OAAOF,OAAO,CAACK,OAAO,CAAC;UAAEC,OAAO,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAe,CAAC,CAAC;QACnE;MACF,KAAK,GAAG;QACN;QACAC,cAAc,CAACN,QAAQ,CAAC;QACxB;MACF,KAAK,GAAG;QACN;QACA;MACF,KAAK,GAAG;QACN;QACA;MACF;QACE;QACAJ,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEK,QAAQ,CAACC,MAAM,EAAED,QAAQ,CAACO,IAAI,CAAC;QACvD;IACJ;EACF,CAAC,MAAM;IACL;IACAX,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACU,OAAO,CAAC;EAChD;EACA,OAAOP,OAAO,CAACC,MAAM,CAAC,IAAIS,KAAK,CAAC,MAAM,CAAC,CAAC;AAC1C,CACF,CAAC;AAED,SAASN,cAAcA,CAACF,QAAQ,EAAC;EAC/B;EACA;EACA;EACAlB,KAAK,CAAC2B,QAAQ,CAAC,iBAAiB,CAAC;AACnC;AAEA,SAASH,cAAcA,CAACN,QAAQ,EAAE;EAChC;EACA;EACA;EACAU,KAAK,CAAC,UAAU,CAAC;EACjB;EACA;AAEF;AAGA,eAAe1B,OAAO","ignoreList":[]}]}