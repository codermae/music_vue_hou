{"remainingRequest":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\maey\\music_vue\\hout\\vue-admin-template\\src\\views\\table\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\src\\views\\table\\index.vue","mtime":1728308547000},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\babel.config.js","mtime":1728097319034},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\maey\\music_vue\\hout\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovbWFleS9tdXNpY192dWUvaG91dC92dWUtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBnZXRMaXN0LCB1cGRhdGVJdGVtIH0gZnJvbSAnQC9hcGkvdGFibGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZmlsdGVyczogewogICAgc3RhdHVzRmlsdGVyOiBmdW5jdGlvbiBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7CiAgICAgIHZhciBzdGF0dXNNYXAgPSB7CiAgICAgICAgcHVibGlzaGVkOiAnc3VjY2VzcycsCiAgICAgICAgZHJhZnQ6ICdncmF5JywKICAgICAgICBkZWxldGVkOiAnZGFuZ2VyJwogICAgICB9OwogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c107CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogbnVsbCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBmb3JtRGF0YToge30sCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIGdldExpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBfdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KHJvdykgewogICAgICB0aGlzLmZvcm1EYXRhID0gX29iamVjdFNwcmVhZCh7fSwgcm93KTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVEZWw6IGZ1bmN0aW9uIGhhbmRsZURlbCgpIHsKICAgICAgLy/liKDpmaTnlKjmiLcKICAgIH0sCiAgICBzYXZlQ2hhbmdlczogZnVuY3Rpb24gc2F2ZUNoYW5nZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm1EYXRhKQogICAgICAvLyB0aGlzLnJlbW92ZUZpZWxkcyh0aGlzLmZvcm1EYXRhLFsncmVnaXN0X2RhdGUnLCd1cGRhdGVfZGF0ZSddKQogICAgICBjb25zb2xlLmxvZyh0aGlzLnJlbW92ZUZpZWxkcyh0aGlzLmZvcm1EYXRhLCBbJ3JlZ2lzdF9kYXRlJywgJ3VwZGF0ZV9kYXRlJ10pKTsKICAgICAgLy/kv67mlLnnlKjmiLfkv6Hmga8KICAgICAgdXBkYXRlSXRlbSh0aGlzLmZvcm1EYXRhLnVzZXJfaWQsIHRoaXMucmVtb3ZlRmllbGRzKHRoaXMuZm9ybURhdGEsIFsncmVnaXN0X2RhdGUnLCAndXBkYXRlX2RhdGUnXSkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5L+u5pS55oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIF90aGlzMi5mZXRjaERhdGEoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignVVBEQVRFIEZBSUxFRCcsIGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlRmllbGRzOiBmdW5jdGlvbiByZW1vdmVGaWVsZHMob2JqLCBmaWVsZHNUb1JlbW92ZSkgewogICAgICB2YXIgbmV3T2JqID0gX29iamVjdFNwcmVhZCh7fSwgb2JqKTsKICAgICAgZmllbGRzVG9SZW1vdmUuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICBkZWxldGUgbmV3T2JqW2ZpZWxkXTsKICAgICAgfSk7CiAgICAgIHJldHVybiBuZXdPYmo7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["getList","updateItem","filters","statusFilter","status","statusMap","published","draft","deleted","data","list","listLoading","dialogVisible","formData","formLabelWidth","created","fetchData","methods","_this","then","response","console","log","handleEdit","row","_objectSpread","handleDel","saveChanges","_this2","removeFields","user_id","$message","type","message","catch","error","obj","fieldsToRemove","newObj","forEach","field"],"sources":["src/views/table/index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      element-loading-text=\"Loading\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column align=\"center\" label=\"ID\" width=\"50\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.user_id }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"用户名\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.username }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"密码\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.password_hash }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"手机号\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.mobile }}\n        </template>\n      </el-table-column>\n      <el-table-column class-name=\"status-col\" label=\"权限\" width=\"75\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"scope.row.status | statusFilter\">{{ scope.row.privilege }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"created_at\" label=\"注册时间\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-time\" />\n          <span>{{ scope.row.regist_date }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"created_at\" label=\"修改时间\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-time\" />\n          <span>{{ scope.row.update_date }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <button @click=\"handleEdit(scope.row)\">编辑</button>\n          <button @click=\"handleDel(scope.row)\">删除</button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog title=\"编辑数据\" :visible.sync=\"dialogVisible\" width=\"50%\">\n      <el-form :model=\"formData\" style=\"margin-bottom: 0;\">\n        <el-table-column align=\"center\" label=\"ID\" width=\"50\">\n            <el-form-item label=\"ID\" :label-width=\"formLabelWidth\">\n              <el-input v-model=\"formData.user_id\" disabled></el-input>\n            </el-form-item>\n        </el-table-column>\n        <el-table-column label=\"用户名\" width=\"110\" align=\"center\">\n            <el-form-item label=\"用户名\" :label-width=\"formLabelWidth\">\n              <el-input v-model=\"formData.username\"></el-input>\n            </el-form-item>\n        </el-table-column>\n        <el-table-column label=\"密码\" width=\"110\" align=\"center\">\n            <el-form-item label=\"密码\" :label-width=\"formLabelWidth\">\n              <el-input v-model=\"formData.password_hash\"></el-input>\n            </el-form-item>\n        </el-table-column>\n        <el-table-column label=\"手机号\" width=\"110\" align=\"center\">\n            <el-form-item label=\"手机号\" :label-width=\"formLabelWidth\">\n              <el-input v-model=\"formData.mobile\"></el-input>\n            </el-form-item>\n        </el-table-column>\n        <el-table-column class-name=\"status-col\" label=\"权限\" width=\"75\" align=\"center\">\n            <el-form-item label=\"权限\" :label-width=\"formLabelWidth\">\n              <el-radio-group v-model=\"formData.privilege\">\n                <el-radio label=\"admin\">Admin</el-radio>\n                <el-radio label=\"root\">Root</el-radio>\n              </el-radio-group>\n            </el-form-item>\n        </el-table-column>\n        <el-table-column align=\"center\" prop=\"created_at\" label=\"注册时间\" width=\"200\">\n            <el-form-item label=\"注册时间\" :label-width=\"formLabelWidth\">\n              <el-input v-model=\"formData.regist_date\" disabled></el-input>\n            </el-form-item>\n        </el-table-column>\n        <el-table-column align=\"center\" prop=\"created_at\" label=\"修改时间\" width=\"200\">\n            <el-form-item label=\"修改时间\" :label-width=\"formLabelWidth\">\n              <el-input v-model=\"formData.update_date\" disabled></el-input>\n            </el-form-item>\n        </el-table-column>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveChanges\">保 存</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { getList,updateItem } from '@/api/table'\n\nexport default {\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'gray',\n        deleted: 'danger'\n      }\n      return statusMap[status]\n    }\n  },\n  data() {\n    return {\n      list: null,\n      listLoading: true,\n      dialogVisible:false,\n      formData:{},\n      formLabelWidth: '120px'\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      this.listLoading = true\n      getList().then(response => {\n        console.log(response)\n        this.list = response.data\n        this.listLoading = false\n      })\n    },\n    handleEdit(row){\n      this.formData = {...row}\n      this.dialogVisible = true\n    },\n    handleDel(){\n      //删除用户\n    },\n    saveChanges(){\n      // console.log(this.formData)\n      // this.removeFields(this.formData,['regist_date','update_date'])\n      console.log(this.removeFields(this.formData,['regist_date','update_date']))\n      //修改用户信息\n      updateItem(this.formData.user_id,this.removeFields(this.formData,['regist_date','update_date'])).then(() => {\n        this.$message({\n          type: 'success',\n          message: '修改成功!'\n        })\n        this.dialogVisible = false;\n        this.fetchData();\n      }).catch(error => {\n        console.error('UPDATE FAILED',error)\n      })\n    },\n    removeFields(obj,fieldsToRemove){\n      const newObj = {...obj};\n      fieldsToRemove.forEach(field => {\n        delete newObj[field];\n      });\n      return newObj;\n    }\n  }\n}\n</script>\n<style scoped>\n  ::v-deep .el-dialog {\n    margin-top: 7vh !important;\n  }\n  .el-dialog__body {\n    padding: 20px 20px 10px;\n  }\n\n  .el-form-item {\n    margin-bottom: 5px;\n  }\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA,SAAAA,OAAA,EAAAC,UAAA;AAEA;EACAC,OAAA;IACAC,YAAA,WAAAA,aAAAC,MAAA;MACA,IAAAC,SAAA;QACAC,SAAA;QACAC,KAAA;QACAC,OAAA;MACA;MACA,OAAAH,SAAA,CAAAD,MAAA;IACA;EACA;EACAK,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;MACAC,WAAA;MACAC,aAAA;MACAC,QAAA;MACAC,cAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,SAAA,WAAAA,UAAA;MAAA,IAAAE,KAAA;MACA,KAAAP,WAAA;MACAX,OAAA,GAAAmB,IAAA,WAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACAF,KAAA,CAAAR,IAAA,GAAAU,QAAA,CAAAX,IAAA;QACAS,KAAA,CAAAP,WAAA;MACA;IACA;IACAY,UAAA,WAAAA,WAAAC,GAAA;MACA,KAAAX,QAAA,GAAAY,aAAA,KAAAD,GAAA;MACA,KAAAZ,aAAA;IACA;IACAc,SAAA,WAAAA,UAAA;MACA;IAAA,CACA;IACAC,WAAA,WAAAA,YAAA;MAAA,IAAAC,MAAA;MACA;MACA;MACAP,OAAA,CAAAC,GAAA,MAAAO,YAAA,MAAAhB,QAAA;MACA;MACAZ,UAAA,MAAAY,QAAA,CAAAiB,OAAA,OAAAD,YAAA,MAAAhB,QAAA,mCAAAM,IAAA;QACAS,MAAA,CAAAG,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACAL,MAAA,CAAAhB,aAAA;QACAgB,MAAA,CAAAZ,SAAA;MACA,GAAAkB,KAAA,WAAAC,KAAA;QACAd,OAAA,CAAAc,KAAA,kBAAAA,KAAA;MACA;IACA;IACAN,YAAA,WAAAA,aAAAO,GAAA,EAAAC,cAAA;MACA,IAAAC,MAAA,GAAAb,aAAA,KAAAW,GAAA;MACAC,cAAA,CAAAE,OAAA,WAAAC,KAAA;QACA,OAAAF,MAAA,CAAAE,KAAA;MACA;MACA,OAAAF,MAAA;IACA;EACA;AACA","ignoreList":[]}]}